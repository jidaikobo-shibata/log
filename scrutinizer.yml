build:
    nodes:
        analysis:
            project_setup:
                override:
                    - 'true'
            tests:
                override:
                    - php-scrutinizer-run
                    -
                        command: "phpcs-run ./src"
                        use_website_config: false
        static-analysis:
            tests:
                override:
                    command: "vendor/bin/phpcs ./src"

    environment:
        timezone: 'Asia/Tokyo'
        php:
            version: "8.1"

    tests:
        override:
            -
                command: './vendor/bin/phpunit --coverage-clover=.coverage.xml'
                coverage:
                    file: '.coverage.xml'
                    format: 'clover'
                idle_timeout: 600

tools:
    php_code_coverage: true
checks:
    php:
        code_sniffer: true
coding_style:
    php:
        spaces:
            around_operators:
                bitwise: false
                concatenation: true
filter:
    paths:
        - "src/"
